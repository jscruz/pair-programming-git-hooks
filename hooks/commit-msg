#!/bin/sh
#
# This script checks if the commit message is in the following format:
# AA/BB [US1234]: .....
# AA&&BB [DE12345]: ....
# AA<-BB [TA12345]: ....
# AA->BB [NOTES-12123]: ...
# AA [UNFILED-1287282]: ...
# AA/BB/CC [US1781]: ....
# AA&&BB [US1827/TA1298]: ...
#

formatCheck=$(grep -Eq '^[A-Z]{2}((/|&&|->|<-)[A-Z]{2})* \[(/{0,1}(US|DE|TA|UNFILED-|NOTES-)[0-9]*){1,2}\]:.*' $1)
if [ $? -eq 1 ] ; then
  echo "Please, commit with the following format: AA/BB [US1234]: ... More information at http://guru.wdstechnology.com/mediawiki/index.php/Git_commit_message_format"
  echo "Commit aborted"
        false
else
  true
fi
